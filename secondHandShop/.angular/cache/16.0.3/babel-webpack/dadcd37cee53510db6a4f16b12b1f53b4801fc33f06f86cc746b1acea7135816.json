{"ast":null,"code":"import { Cart } from 'src/app/shared/models/Cart';\nimport { CartItem } from 'src/app/shared/models/CartItem';\nimport * as i0 from \"@angular/core\";\nclass CartService {\n  constructor() {\n    this.cart = new Cart();\n  }\n  addToCart(item) {\n    let cartItem = this.cart.items.find(item => item.item.id === item.id);\n    if (cartItem) {\n      this.changeQuantity(item.id, cartItem.quantity + 1);\n      return;\n    }\n    this.cart.items.push(new CartItem(item));\n  }\n  removeFromCart(itemId) {\n    this.cart.items = this.cart.items.filter(item => item.item.id != itemId);\n  }\n  changeQuantity(itemId, quantity) {\n    let cartItem = this.cart.items.find(item => item.item.id == itemId);\n    if (!cartItem) return;\n    cartItem.quantity = quantity;\n  }\n  getCart() {\n    return this.cart;\n  }\n}\nCartService.ɵfac = function CartService_Factory(t) {\n  return new (t || CartService)();\n};\nCartService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: CartService,\n  factory: CartService.ɵfac,\n  providedIn: 'root'\n});\nexport { CartService };","map":{"version":3,"names":["Cart","CartItem","CartService","constructor","cart","addToCart","item","cartItem","items","find","id","changeQuantity","quantity","push","removeFromCart","itemId","filter","getCart","factory","ɵfac","providedIn"],"sources":["/Users/cristianghinea/eclipse-workspace/UTCN_Software Design/secondHandShop/src/app/services/cart/cart.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Cart } from 'src/app/shared/models/Cart';\nimport { CartItem } from 'src/app/shared/models/CartItem';\nimport { Item } from 'src/app/shared/models/Item';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CartService {\n  private cart:Cart = new Cart();\n\n  addToCart(item:Item):void {\n    let cartItem = this.cart.items.find(item => item.item.id === item.id);\n    if (cartItem){\n      this.changeQuantity(item.id, cartItem.quantity + 1);\n      return;\n    }\n    this.cart.items.push(new CartItem(item));\n  }\n\n  removeFromCart(itemId:number):void{\n    this.cart.items = this.cart.items.filter(item => item.item.id != itemId);\n  }\n\n  changeQuantity(itemId:number, quantity:number) {\n    let cartItem = this.cart.items.find(item => item.item.id == itemId);\n    if(!cartItem) return;\n    cartItem.quantity = quantity;\n  }\n\n  getCart():Cart{\n    return this.cart;\n  }\n}\n"],"mappings":"AACA,SAASA,IAAI,QAAQ,4BAA4B;AACjD,SAASC,QAAQ,QAAQ,gCAAgC;;AAGzD,MAGaC,WAAW;EAHxBC,YAAA;IAIU,KAAAC,IAAI,GAAQ,IAAIJ,IAAI,EAAE;;EAE9BK,SAASA,CAACC,IAAS;IACjB,IAAIC,QAAQ,GAAG,IAAI,CAACH,IAAI,CAACI,KAAK,CAACC,IAAI,CAACH,IAAI,IAAIA,IAAI,CAACA,IAAI,CAACI,EAAE,KAAKJ,IAAI,CAACI,EAAE,CAAC;IACrE,IAAIH,QAAQ,EAAC;MACX,IAAI,CAACI,cAAc,CAACL,IAAI,CAACI,EAAE,EAAEH,QAAQ,CAACK,QAAQ,GAAG,CAAC,CAAC;MACnD;;IAEF,IAAI,CAACR,IAAI,CAACI,KAAK,CAACK,IAAI,CAAC,IAAIZ,QAAQ,CAACK,IAAI,CAAC,CAAC;EAC1C;EAEAQ,cAAcA,CAACC,MAAa;IAC1B,IAAI,CAACX,IAAI,CAACI,KAAK,GAAG,IAAI,CAACJ,IAAI,CAACI,KAAK,CAACQ,MAAM,CAACV,IAAI,IAAIA,IAAI,CAACA,IAAI,CAACI,EAAE,IAAIK,MAAM,CAAC;EAC1E;EAEAJ,cAAcA,CAACI,MAAa,EAAEH,QAAe;IAC3C,IAAIL,QAAQ,GAAG,IAAI,CAACH,IAAI,CAACI,KAAK,CAACC,IAAI,CAACH,IAAI,IAAIA,IAAI,CAACA,IAAI,CAACI,EAAE,IAAIK,MAAM,CAAC;IACnE,IAAG,CAACR,QAAQ,EAAE;IACdA,QAAQ,CAACK,QAAQ,GAAGA,QAAQ;EAC9B;EAEAK,OAAOA,CAAA;IACL,OAAO,IAAI,CAACb,IAAI;EAClB;;AAxBWF,WAAW,C;mBAAXA,WAAW;AAAA;AAAXA,WAAW,C;SAAXA,WAAW;EAAAgB,OAAA,EAAXhB,WAAW,CAAAiB,IAAA;EAAAC,UAAA,EAFV;AAAM;SAEPlB,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}